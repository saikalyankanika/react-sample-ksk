pipeline {
    agent none
    stages {
        stage('Pod Template') {
            agent any // Allocate an agent for this stage
            steps {
                script {
                    @Library('shared-pipeline@master') _

                    def output = sh(script: 'pwd', returnStdout: true).trim()
                    println "Current directory: ${output}"

                    println env

                    def initScript = new GroovyShell().parse(new File('init.groovy'))
                    initScript.call()
                }
            }
        }
    }
}
